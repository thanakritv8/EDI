Type.registerNamespace("Web");Web.Membership=function(){var a=this;Web.Membership.initializeBase(a);a._membershipBar=null;a._intervalId=null;Web.Membership._instance=a;a._displayLogin=true};Web.Membership.prototype={initialize:function(){var a=this;Web.Membership.callBaseMethod(a,"initialize");if(!Web.Membership._instance)Web.Membership._instance=a;a._loginButtonClickHandler=Function.createDelegate(a,a._loginButtonClick);a._loginDialogMouseOverHandler=Function.createDelegate(a,a._loginDialogMouseOver);a._loginDialogMouseOutHandler=Function.createDelegate(a,a._loginDialogMouseOut);a._login_CompletedHandler=Function.createDelegate(a,a._login_Completed);a._method_FailureHandler=Function.createDelegate(a,a._method_Failure);a._textBoxKeyPressHandler=Function.createDelegate(a,a._textBoxKeyPress);a._body_keydownDelegate=Function.createDelegate(a,a._body_keydown);a._body_mousemoveDelegate=Function.createDelegate(a,a._body_mousemove);$addHandler(document.body,"keydown",a._body_keydownDelegate);$addHandler(document.body,"mousemove",a._body_mousemoveDelegate);a._window_beforeUnloadDelegate=Function.createDelegate(a,a._window_beforeUnload);$addHandler(window,"beforeunload",a._window_beforeUnloadDelegate)},dispose:function(){var a=this;a.idleInterval(false);a._disposeIdentityResources();$removeHandler(window,"beforeunload",a._window_beforeUnloadDelegate);$removeHandler(document.body,"keydown",a._body_keydownDelegate);$removeHandler(document.body,"mousemove",a._body_mousemoveDelegate);a._loginButton&&$clearHandlers(a._loginButton);a._loginDialog&&$clearHandlers(a._loginDialog);a._userName&&$clearHandlers(a._userName);a._password&&$clearHandlers(a._password);delete a._membershipBar;delete a._bookmarkBar;a._hideHistory();Web.Membership.callBaseMethod(a,"dispose")},get_membershipBar:function(){return this._membershipBar},get_isLoginDialogVisible:function(){return this._isLoginDialogVisible},set_isLoginDialogVisible:function(a){this._isLoginDialogVisible=a},get_displayRememberMe:function(){return this._displayRememberMe!=false},set_displayRememberMe:function(a){this._displayRememberMe=a},get_rememberMeSet:function(){return this._rememberMeSet==true},set_rememberMeSet:function(a){this._rememberMeSet=a},get_displayLogin:function(){return this._displayLogin},set_displayLogin:function(a){this._displayLogin=a},get_displayPasswordRecovery:function(){return this._displayPasswordRecovery!=false},set_displayPasswordRecovery:function(a){this._displayPasswordRecovery=a},get_displaySignUp:function(){return this._displaySignUp!=false},set_displaySignUp:function(a){this._displaySignUp=a},get_displayMyAccount:function(){return this._displayMyAccount},set_displayMyAccount:function(a){this._displayMyAccount=a},get_displayHelp:function(){return this._displayHelp},set_displayHelp:function(a){this._displayHelp=a},get_baseUrl:function(){return this._baseUrl},set_baseUrl:function(a){this._baseUrl=a},get_servicePath:function(){return this._servicePath},set_servicePath:function(a){this._servicePath=a},get_welcome:function(){return String.isNullOrEmpty(this._welcome)?Web.MembershipResources.Bar.Welcome:this._welcome},set_welcome:function(a){this._welcome=a},get_user:function(){return this._user},set_user:function(a){this._user=a},get_enablePermalinks:function(){return this._enablePermalinks==true},set_enablePermalinks:function(a){this._enablePermalinks=a},get_enableHistory:function(){return this._enableHistory==true},set_enableHistory:function(a){this._enableHistory=a},get_isAuthenticated:function(){return this._isAuthenticated},set_isAuthenticated:function(a){this._isAuthenticated=a},get_commandLine:function(){return this._commandLine},set_commandLine:function(a){this._commandLine=a},showLoginDialog:function(){this.hideLoginDialog()},hideLoginDialog:function(){if(this._intevalId){window.clearInterval(this._intervalId);this._intervalId=null}},addPermalink:function(b,c){var a=this;if(!(a.get_enablePermalinks()||a.get_enableHistory()))return;var d=location.pathname+"?"+b;a._savePermalinkParams={link:d,html:c};window.setTimeout("Web.Membership._instance._savePermalink()",500);!Sys.UI.DomElement.getVisible(a._membershipBar)&&a._encodePermalink_Success("")},_savePermalink:function(){Sys.Net.WebServiceProxy.invoke(this.get_servicePath(),"SavePermalink",false,this._savePermalinkParams)},showPermalink:function(){var a=this;if(!a._savePermalinkParams||String.isNullOrEmpty(a._savePermalinkParams.html)){$appfactory.alert(Web.MembershipResources.Messages.PermalinkUnavailable);return}a.encodePermalink(a._savePermalinkParams.link,Function.createDelegate(a,a._encodePermalink_Success))},encodePermalink:function(b,a){if(!a)a=function(a){location.href=a};Sys.Net.WebServiceProxy.invoke(this.get_servicePath(),"EncodePermalink",false,{link:b,rooted:true},a,Function.createDelegate(this,this._onMethodFailed))},showHistory:function(){var a=this;!a._historyDiv&&Sys.Net.WebServiceProxy.invoke(a.get_servicePath(),"ListAllPermalinks",false,null,Function.createDelegate(a,a._showHistory_Success),Function.createDelegate(a,a._method_Failure))},_focusHistory:function(){var a=$get(this.get_id()+"_RotateHistory");a&&a.focus()},_renderHistory:function(){var e="px",b=this,k=$appfactory.clientBounds(),n=$appfactory.scrolling(),h=new Sys.StringBuilder;h.appendFormat('<div onclick="$find(\'{0}\')._hideHistory()" style="width:{1}px;height:{2}px;">',b.get_id(),k.width,k.height);var f=b._historyData.length;if(f>10)f=10;var l=0,m=0,i=50,g=30;if(f<=3){i=65;g=30}else if(f<=6){i=65;g=30}for(var d=f-1;d>=0;d--){var o=b._historyData[d][1];h.appendFormat('<div style="position:absolute;background-color:#333333;"></div><div id="{0}_Card{1}" onclick="$find(\'{0}\')._selectHistory({1});return false;" style="position:absolute;left:{2}px;top:{3}px;" onmouseover="if(this._Activated!=99){{this.style.zIndex=600001;this._Activated=99;var s=this.previousSibling;s.style.zIndex=600000;s.style.backgroundColor=\'black\'}}" onmouseout="this.style.zIndex=\'{4}\';this._Activated=0;var s=this.previousSibling;s.style.zIndex=\'{4}\';s.style.backgroundColor=\'#333333\'">',b.get_id(),d,l,m,Sys.Browser.agent==Sys.Browser.InternetExplorer&&Sys.Browser.version>=9?-1:"auto");h.append(o);h.append("</div>");d==0&&h.appendFormat('<a id="{0}_RotateHistory" class="RotateHistory" href="javascript:" onclick="$find(\'{0}\')._rotateHistory(event);return false;"><div id="{0}_RotateButton" title="{3}" style="position:absolute;z-index:600002;left:{1}px;top:{2}px;" class="RotateHistory">&nbsp;</div></a>',b.get_id(),l+110,m-15,Web.MembershipResources.Bar.RotateHistory);l+=i;m+=g}h.append("</div>");b._historyDiv.innerHTML=h.toString();var a=$get(b.get_id()+"_Card0"),c=$appfactory.bounds(a);i=Math.floor((k.width-(c.x+c.width))/2);g=b._historyOffsetTop?b._historyOffsetTop:Math.floor((k.height-(c.y+c.height))/2);b._historyOffsetTop=g;a=$get(b.get_id()+"_RotateButton");a.style.left=a.offsetLeft+i+e;a.style.top=a.offsetTop+g+e;if(f==1){a.style.width="1px";a.style.height="1px"}for(d=0;d<f;d++){a=$get(b.get_id()+"_Card"+d);a.style.left=a.offsetLeft+i+e;a.style.top=a.offsetTop+g+e;c=$appfactory.bounds(a);c.x+=10-n.x;c.y+=4-n.y;var j=a.previousSibling;j.style.left=c.x+e;j.style.top=c.y+e;j.style.width=c.width-13+e;j.style.height=c.height-0+e}},_selectHistory:function(a){this.encodePermalink(this._historyData[a][0])},_hideHistory:function(){var a=this;if(a._historyModalPopup){a._historyModalPopup.hide();if(a._historyDiv){a._historyDiv.parentNode.removeChild(a._historyDiv);delete a._historyDiv}a._historyModalPopup.dispose();delete a._historyModalPopup}},_rotateHistory:function(d){var a=this,c=a._historyData[0];Array.removeAt(a._historyData,0);Array.add(a._historyData,c);a._renderHistory();a._focusHistory();try{var b=new Sys.UI.DomEvent(d);b.stopPropagation();b.preventDefault()}catch(e){}},_showHistory_Success:function(c){var a=this;if(c.length==0){$appfactory.alert(Web.MembershipResources.Messages.HistoryUnavailable);return}a._historyData=c;var b=a._historyDiv=document.createElement("div");document.body.appendChild(b);b.id=a.get_id()+"_HistoryPanel";b.className="History";a._historyOffsetTop=null;a._renderHistory();a._historyModalPopup=$create(AjaxControlToolkit.ModalPopupBehavior,{PopupControlID:b.id,DropShadow:false,BackgroundCssClass:"ModalBackground"},null,null,$get(a.get_id()+"_HistoryLink"));a._historyModalPopup.show();a._focusHistory()},_encodePermalink_Success:function(d){var a=this,c=$get(a.get_id()+"_Permalink"),f=$get(a.get_id()+"_AddToFavorites"),e=$get(a.get_id()+"_CancelFavorites"),b=!Sys.UI.DomElement.getVisible(c.parentNode);Sys.UI.DomElement.setVisible(c.parentNode,b);Sys.UI.DomElement.setVisible(f.parentNode,b);Sys.UI.DomElement.setVisible(e.parentNode,b);Sys.UI.DomElement.setVisible(a._membershipBar,!b);if(b)c.value=d;c.parentNode.title=a._savePermalinkParams.html.replace(/<div class="Value">/g," = ").replace(/(\s*<.+?>\s*)+/g,"\r\r").trim().replace(/&\w+;/g,"").replace(/(\r\r)+/g,"; ").replace(/;\s*=/g," = ").replace(/=\s*;/g," = ")},_addToFavorites:function(){this._encodePermalink_Success("");var d=$get(this.get_id()+"_Permalink"),b=d.parentNode.title,c=d.value;if(window.sidebar)window.sidebar.addPanel(b,c,"");else if(window.opera&&window.print){var a=document.createElement("a");a.setAttribute("href",c);a.setAttribute("title",b);a.setAttribute("rel","sidebar");a.click()}else document.all&&window.external.AddFavorite(c,b)},changeLoginDialogVisibility:function(b,e){var d="LoginDialogCollapsed",a=this;if(a._intevalId){window.clearInterval(a._intevalId);a._intevalId=null}if(e)a._intevalId=window.setInterval(String.format('$find("{0}").changeLoginDialogVisibility({1})',a.get_id(),b),e);else if(b!=a.get_isLoginDialogVisible()){var c=$get("LoginControlsRow",a._membershipBar);if(c){if(b)Sys.UI.DomElement.removeCssClass(a._loginDialog,d);else Sys.UI.DomElement.addCssClass(a._loginDialog,d);Sys.UI.DomElement.setVisible(c,b)}b&&!(document.activeElement&&document.activeElement.id=="Password")&&a._userName.focus();a.set_isLoginDialogVisible(b);b&&Web.HoverMonitor._instance.close()}},get_authenticationEnabled:function(){return this._authenticationEnabled==null||this._authenticationEnabled==true},set_authenticationEnabled:function(a){this._authenticationEnabled=a},get_idleTimeout:function(){return this._idleTimeout==null?0:this._idleTimeout},set_idleTimeout:function(a){this._idleTimeout=a},get_cultures:function(){return this._cultures},set_cultures:function(a){this._cultures=a},get_cultureName:function(){var a=this._cultureList;if(a)for(var b=0;b<a.length;b++)if(a[b][2]=="True")return a[b][1];return null},changeCulture:function(b){var a=new Date;a.setDate(a.getDate()+14);document.cookie=String.format(".COTCULTURE={0}; expires={1}; path=/",b,a.toUTCString());location.replace($appfactory.unanchor(location.href))},_idle:function(){var a=this;Web.HoverMonitor._instance.close();for(var e=Sys.Application.getComponents(),d=e.length-1;d>=0;d--){var b=e[d];if(Web.DataView.isInstanceOfType(b))if(b.get_isModal())b.endModalState("Cancel");else b.get_lookupField()&&b.hideLookup()}a._protecting=true;var c=a._idleDialog=document.createElement("div");c.id=a.get_id()+"$IdentityValidation";document.body.appendChild(c);c.innerHTML=String.format('<div class="ModalPlaceholder FixedDialog UserIdle"><div class="Text">{1}</div><div class="Buttons"><button onclick="$find(\'{0}\').logout();return false;" >{2}</button></div></div>',a.get_id(),Web.MembershipResources.Bar.UserIdle,Web.MembershipResources.Bar.LoginLink);a._identityModalPopup=$create(AjaxControlToolkit.ModalPopupBehavior,{PopupControlID:c.id,DropShadow:true,BackgroundCssClass:"ModalBackground"},null,null,a._membershipBar.getElementsByTagName("a")[0]);a._identityModalPopup.show()},idle:function(){var a=this,b=(new Date).getTime()-a._lastActivity>a.get_idleTimeout()&&!a._protecting&&Sys.Services.AuthenticationService.get_isLoggedIn();b&&a._idle();return b},_disposeIdentityResources:function(){var a=this;if(a._identityModalPopup){a._identityModalPopup.dispose();a._idleDialog.parentNode.removeChild(a._idleDialog);delete a._idleDialog;a._identityModalPopup=null}},_updateLastActivity:function(){this._lastActivity=new Date},_body_keydown:function(a){var b=this;b._updateLastActivity();if(b._historyDiv)if(a.keyCode==Sys.UI.Key.esc){a.preventDefault();b._hideHistory()}else if(a.keyCode==Sys.UI.Key.tab){a.preventDefault();b._rotateHistory()}else if(a.keyCode==Sys.UI.Key.enter){a.preventDefault();b._selectHistory(0)}},_body_mousemove:function(){this._updateLastActivity()},_window_beforeUnload:function(){var a=this;if(a._protecting){a._protecting=false;a._disposeIdentityResources();a.logout()}},loggedIn:function(){var a=this;Sys.Services._AuthenticationService.DefaultWebServicePath="../Authentication_JSON_AppService.axd";Sys.Services.AuthenticationService._authenticated=!String.isNullOrEmpty(a._user);var b=Sys.Services.AuthenticationService.get_isLoggedIn!=null,c=b?Sys.Services.AuthenticationService.get_isLoggedIn():true;if(!c&&!String.isNullOrEmpty(a.get_user())){c=true;b=false}if(!b){a.set_authenticationEnabled(false);a.set_displayMyAccount(false)}return c},idleInterval:function(b){var a=this;if(a._idleIntervalId){clearInterval(a._idleIntervalId);a._idleIntervalId=null}if(b)if(a.get_idleTimeout()>0)a._idleIntervalId=window.setInterval(function(){a.idle()},6e4)},updated:function(){var m="keypress",l="Membership_Login",a=this;Web.Membership.callBaseMethod(a,"updated");var b=Web.MembershipResources.Bar,c=a;c.idleInterval(true);c._updateLastActivity();if(!String.isNullOrEmpty(c.get_cultures())){c._cultureList=[];for(var o=String.format("Detect,Detect|{0}|False;{1}",Web.MembershipResources.Bar.AutoDetectLanguageOption,c.get_cultures()),j=o.split(/;/),n="Membership$Cultures",h=[],e=0;e<j.length;e++){if(String.isBlank(j[e]))continue;var f=j[e].split(/\|/);Array.add(c._cultureList,f);var i=new Web.Item(n,f[1]);f[2]=="True"&&i.set_selected(true);i.set_script(String.format("$find('{0}').changeCulture('{1}');",c.get_id(),f[0]));Array.add(h,i);e==0&&Array.add(h,new Web.Item)}$registerItems(n,h,Web.HoverStyle.ClickAndStay,Web.PopupPosition.Right,Web.ItemDescriptionStyle.None)}var k=document.createElement("div");k.className="MembershipBarPlaceholder";document.body.insertBefore(k,document.body.childNodes[0]);c._membershipBar=$get(l);var g=c.loggedIn();if(!c._membershipBar){c._membershipBar=document.createElement("div");if(document.body.childNodes.length>0)document.body.insertBefore(c._membershipBar,document.body.childNodes[0]);else document.body.appendChild(c._membershipBar);var d=new Sys.StringBuilder;c._membershipBar.id=l;c._membershipBar.className="MembershipBar";c._cultureList&&!(__tf!=4)&&d.append(String.format('<div style="float:right" class="CultureLink"> | <a href="javascript:" onclick="$toggleHover();return false;" title="{1}" onfocus="$showHover(this, \'Membership$Cultures\', \'CultureSelector\', 1)" onblur="$hideHover(this)" onmouseover="$showHover(this, \'Membership$Cultures\', \'CultureSelector\', 1)" onmouseout="$hideHover(this)">{0}</a></div>',a.get_cultureName(),b.ChangeLanguageToolTip));a.get_displayHelp()&&d.append(String.format('<div style="float:right" class="HelpLink"> | <a href="javascript:" onclick="$find(&quot;{0}&quot;).help();return false;">{1}</a></div>',a.get_id(),b.HelpLink));if(!g&&a.get_authenticationEnabled())a.get_displayLogin()&&d.append(String.format('<table id="LoginDialog" cellpadding="0" class="LoginDialog"><tr><td id="Anchor"><a href="javascript:" onfocus="$find(&quot;{0}&quot;).changeLoginDialogVisibility(true);return false" >{1}</a>{2}</td></tr><tr id="LoginControlsRow"><td id="LoginControls"><table><tr><td align="right" nowrap="nowrap">{3}</td><td><input type="text" id="UserName" size="20" value="" /></td></tr><tr><td align="right" nowrap="nowrap">{4}</td><td><input type="password" id="Password" size="20" /></td></tr>'+(a.get_displayRememberMe()?String.format('<tr><td align="right" colspan="2"><input type="checkbox" id="RememberMe"{0}/><label for="RememberMe">{1}</label></td></tr>',a.get_rememberMeSet()?' checked="checked"':"",b.RememberMe):"")+(a.get_displayPasswordRecovery()?'<tr><td>&nbsp;</td><td align="right" nowrap="nowrap"><a href="javascript:" onclick="$find(&quot;{0}&quot).passwordRecovery();return false;" id="PasswordRecovery">{6}</a></td></tr>':"")+(a.get_displaySignUp()?'<tr><td>&nbsp;</td><td align="right" nowrap="nowrap"><a href="javascript:" onclick="$find(&quot;{0}&quot).signUp();return false;" id="SignUp">{7}</a></td></tr>':"")+'<tr><td>&nbsp;</td><td align="right"><button id="Login">{5}</button></td></tr></table></td></tr></table>',a.get_id(),b.LoginLink,b.LoginText,b.UserName,b.Password,b.LoginButton,b.ForgotPassword,b.SignUp));else d.append(String.format('<table id="LoginDialog" cellpadding="0" class="LoginDialog LoginDialogCollapsed"><tr><td>'+(a.get_welcome()&&!String.isBlank(a.get_welcome())?String.localeFormat(a.get_welcome(),a.get_user(),new Date)+(a.get_authenticationEnabled()?" | ":""):"")+(a.get_displayMyAccount()?'<a id="MyAccount" href="javascript:" onclick="$find(&quot;{0}&quot;).myAccount();return false;">{1}</a> | ':"")+(a.get_authenticationEnabled()?'<a href="javascript:" onclick="$find(&quot;{0}&quot;).logout();return false;">{2}</a>':"")+"</td></tr></table>",a.get_id(),b.MyAccount,b.LogoutLink));a._membershipBar.innerHTML=d.toString();if(g&&(a.get_enablePermalinks()||a.get_enableHistory())){a._bookmarkBar=document.createElement("div");a._bookmarkBar.className="BookmarkBar";k.appendChild(a._bookmarkBar);d=new Sys.StringBuilder;d.append('<table class="Frame"><tr>');a.get_enableHistory()&&d.appendFormat('<td><a id="{0}_HistoryLink" href="javascript:" onclick="$find(\'{0}\').showHistory();return false" title="{2}">{1}</a></td>',a.get_id(),b.History,b.HistoryToolTip);a.get_enableHistory()&&a.get_enablePermalinks()&&d.append("<td>|</td>");a.get_enablePermalinks()&&d.appendFormat('<td><a href="javascript:" onclick="$find(\'{0}\').showPermalink();return false" title="{4}">{1}</a></td><td style="display:none"><input id="{0}_Permalink" type="text" onfocus="this.select();"/></td><td style="display:none"><a id="{0}_AddToFavorites" href="javascript:" onclick="$find(\'{0}\')._addToFavorites();return false" class="AddBookmark" title="{2}">&nbsp;</a></td><td style="display:none"><a id="{0}_CancelFavorites" href="javascript:" onclick="$find(\'{0}\').showPermalink();return false" class="CancelBookmark" title="{3}">&nbsp;</a></td>',a.get_id(),b.Permalink,b.AddToFavorites,b.HelpCloseButton,b.PermalinkToolTip);d.append("</tr></table>");a._bookmarkBar.innerHTML=d.toString()}}document.body.style.paddingTop="0px";if(!g&&a.get_displayLogin()){a._loginDialog=$get("LoginDialog",a._membershipBar);var p=$appfactory.bounds(a._loginDialog);a._loginDialog.style.width=p.width+"px";$get("LoginControlsRow",a._loginDialog)&&$addHandlers(a._loginDialog,{mouseover:a._loginDialogMouseOverHandler,mouseout:a._loginDialogMouseOutHandler},a);a._loginButton=$get("Login",a._membershipBar);a._loginButton&&$addHandler(a._loginButton,"click",a._loginButtonClickHandler);var c=a;$(a._membershipBar).find("input").keyup(function(a){a.which==13&&c.login()});a._userName=$get("UserName",a._membershipBar);a._userName&&$addHandler(a._userName,m,a._textBoxKeyPressHandler);a._password=$get("Password",a._membershipBar);a._password&&$addHandler(a._password,m,a._textBoxKeyPressHandler);a._rememberMe=$get("RememberMe",a._membershipBar);a.changeLoginDialogVisibility(window.location.href.match(/\?ReturnUrl=(.+)$/)!=null)}},_login_Completed:function(c){this._wait(false);if(!c){var b=this;$appfactory.alert(Web.MembershipResources.Messages.InvalidUserNameAndPassword,function(){!$appfactory.mobile&&b.changeLoginDialogVisibility(true);b._userName.focus()})}else{var a=window.location.href.match(/\?ReturnUrl=(.+)$/);window.location.replace($appfactory.unanchor(a?unescape(a[1]):window.location.href))}},_method_Failure:function(b,c,a){this._wait(false);$appfactory.alert(String.format("Method {0} has failed. {1}",a,b.get_message()))},_loginButtonClick:function(){this.login()},_loginDialogMouseOver:function(){this.changeLoginDialogVisibility(true,50)},_loginDialogMouseOut:function(){this.changeLoginDialogVisibility(false,500)},_textBoxKeyPress:function(a){if(a.charCode==Sys.UI.Key.enter){a.preventDefault();this.login()}if(a.charCode==Sys.UI.Key.esc){a.preventDefault();this.set_isLoginDialogVisible(true);this.changeLoginDialogVisibility(false)}},login:function(){var c=null,a=this,b=a;if(b._waitDataView&&b._waitDataView._busy())return;if(a._userName&&a._password){var d=/^\s*$/;if(d.exec(a._userName.value)){$appfactory.alert(Web.MembershipResources.Messages.BlankUserName,function(){b.set_isLoginDialogVisible(false);b._userName.focus()});return}if(d.exec(a._password.value)){a.set_isLoginDialogVisible(false);$appfactory.alert(Web.MembershipResources.Messages.BlankPassword,function(){b.set_isLoginDialogVisible(false);b._password.focus()});return}a._wait(true);Sys.Services.AuthenticationService.login(a._userName.value,a._password.value,a._rememberMe!=c&&a._rememberMe.checked,c,c,a._login_CompletedHandler,a._method_FailureHandler,c)}else $appfactory.alert("UserName and/or Password elements are not found in the Memership_Login")},_wait:function(c){var a=this;if($appfactory.mobile)return;var b=a._waitDataView;if(!b){a._waitDiv=$("<div/>");b=a._waitDataView=$create(Web.DataView,{},null,null,a._waitDiv[0])}b._busy(c)},logout:function(){var a=null;this._protecting=false;Sys.Services.AuthenticationService.logout(a,a,a,a)},signUp:function(){var b="signUpForm",a=this;a.changeLoginDialogVisibility(false);Web.DataView.showModal($get("SignUp",a.get_membershipBar()),"aspnet_Membership",b,"New",b,a.get_baseUrl(),a.get_servicePath())},passwordRecovery:function(){var b="passwordRequestForm",a=this;a.changeLoginDialogVisibility(false);Web.DataView.showModal($get("PasswordRecovery",a.get_membershipBar()),"aspnet_Membership",b,"New",b,a.get_baseUrl(),a.get_servicePath())},myAccount:function(){var a="myAccountForm";Web.DataView.showModal($get("MyAccount",this.get_membershipBar()),"aspnet_Membership",a,"Edit",a,this.get_baseUrl(),this.get_servicePath())},help:function(i){var a=this,f=window.location.pathname,e=a.get_baseUrl()=="./"?f.substr(f.lastIndexOf("/"),100):"";if(e.length==0){var c=a.get_baseUrl().split(/\//),b=f.split(/\//);c[c.length-1]==""&&Array.removeAt(c,c.length-1);b[b.length-1]==""&&Array.removeAt(b,b.length-1);b[0]==""&&Array.removeAt(b,0);var h=c.length;if(b[b.length-1].indexOf(".")==-1)h--;for(var g=b.length-h-1;g<b.length;g++)e+="/"+b[g]}var d=String.format("{0}help{1}",a.get_baseUrl(),e);d=String.format("{0}Help/Default.aspx?topic={1}",a.get_baseUrl(),encodeURI(d));if(i){window.open(d);a.help();return}if(!a._helpBar){a._helpDiv=document.createElement("div");document.body.appendChild(a._helpDiv);a._helpDiv.className="HelpBar";a._helpDiv.innerHTML=String.format('<div class="Title">{1}</div><iframe id="help" frameBorder="0"></iframe><div class="Buttons"><button onclick="$find(&quot;{0}&quot;).help()">{2}</button><button onclick="$find(&quot;{0}&quot;).help(true)">{3}</button></div>',a.get_id(),Web.MembershipResources.Bar.HelpLink,Web.MembershipResources.Bar.HelpCloseButton,Web.MembershipResources.Bar.HelpFullScreenButton);a._helpFrame=$get("help",a._helpDiv);a._helpBar=$create(AjaxControlToolkit.AlwaysVisibleControlBehavior,{HorizontalSide:AjaxControlToolkit.HorizontalSide.Right,VerticalSide:AjaxControlToolkit.VerticalSide.Top,HorizontalOffset:18,VerticalOffset:30},null,null,a._helpDiv);Sys.UI.DomElement.setVisible(a._helpDiv,false)}Sys.UI.DomElement.setVisible(a._helpDiv,!Sys.UI.DomElement.getVisible(a._helpDiv));if(Sys.UI.DomElement.getVisible(a._helpDiv)){if(a._helpFrame.src=="")a._helpFrame.src=d;a._helpBar._reposition()}}};Web.Membership.registerClass("Web.Membership",Sys.Component);typeof Sys!=="undefined"&&Sys.Application.notifyScriptLoaded()