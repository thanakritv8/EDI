Type.registerNamespace("Web");Web.Item=function(c,d,b){var a=this;a._family=c;a._text=d;a._description=b;a._depth=0};Web.Item.prototype={get_family:function(){return this._family},get_text:function(){return this._text},set_text:function(a){this._text=a},get_description:function(){return this._description},set_description:function(a){this._description=a},get_url:function(){return this._url},set_url:function(a){this._url=a},context:function(a){if(arguments.length==0)return this._context;else this._context=a},get_script:function(){return this._script},set_script:function(a,b){this._script=b==null?a:String._toFormattedString(false,arguments)},get_cssClass:function(){return this._cssClass},set_cssClass:function(a){this._cssClass=a},get_disabled:function(){return this._disabled},set_disabled:function(a){this._disabled=a},get_group:function(){return this._group},set_group:function(a){this._group=a},get_selected:function(){return this._selected},set_selected:function(a){this._selected=a},get_children:function(){return this._children},get_confirmation:function(){return this._confirmation},set_confirmation:function(a){this._confirmation=a},get_dynamic:function(){return this._dynamic},set_dynamic:function(a){this._dynamic=a;this._cssClass=a?"Dynamic":"";this._disabled=a},get_depth:function(){return this._depth},get_parent:function(){return this._parent},get_path:function(){var a=this;if(!a._path){var b=a._parent?a._parent.get_path()+"/":"";b+=a._parent?Array.indexOf(a._parent.get_children(),a):Array.indexOf(Web.HoverMonitor.Families[a._family].items,a);a._path=b}return a._path},get_id:function(){var a=this;if(!a._id)a._id=String.format("HoverMonitor${0}$Item${1}",a._family,a.get_path().replace(/\//g,"_"));return a._id},get_children:function(){return this._children},addChild:function(b){var a=this;b._parent=a;if(!a._children){a._children=[];a._cssClass="Parent"}b._depth=a._depth+1;Array.add(a._children,b)},dispose:function(){var a=this;a._parent=null;if(a._children){for(var b=0;b<a._children;b++)a._children[b].dispose();Array.clear(a._children);a._children=null}},findChild:function(a){return Web.Item.find(this._family,a,this._children)}};Web.Item.find=function(h,g,a){var c=null;if(String.isNullOrEmpty(g))return c;if(!a){var d=Web.HoverMonitor.Families[h];if(!d)return c;a=d.items}var b=g.match(/^(\d+)(\/(.+?)$|$)/);if(!b)return c;var f=parseInt(b[1]);if(!a||f>=a.length)return c;var e=a[f];return b[3]&&b[3].length>0?e.findChild(b[3]):e};Web.Menu=function(b){var a=this;Web.Menu.initializeBase(a,[b]);a.set_orientation(Web.MenuOrientation.Horizontal);a.set_cssClass("Menu");a.set_hoverStyle(Web.HoverStyle.Auto);a.set_itemDescriptionStyle(Web.ItemDescriptionStyle.ToolTip);a.set_popupPosition(Web.PopupPosition.Left)};Web.Menu.prototype={initialize:function(){Web.Menu.callBaseMethod(this,"initialize")},dispose:function(){for(var b=this.get_nodes(),a=0;a<b.length;a++){var c=b[a];c.children&&$unregisterItems(this.get_id()+"_"+a)}Web.Menu.callBaseMethod(this,"dispose")},updated:function(){var a=this;Web.Menu.callBaseMethod(a,"updated");if(!Web.Menu.MainMenuId){Web.Menu.MainMenuId=a.get_id();Web.Menu.MainMenuElemId=a._element.id}var f=a.get_nodes(),r=Web.DataViewResources.Menu;if(!f)return;var q=a.get_presentationStyle();if(q>0&&(typeof __tf=="undefined"||!(__tf!=4))){Sys.UI.DomElement.addCssClass(a._element,"menu "+(q==1?"two-level":"nav-button"));a._createMenu(f,a._element,1);return}for(var i=null,b=0;b<f.length;b++){var c=f[b];a._currentNode=c;if(c.children){for(var h=a.get_id()+"_"+b,e=[],o=0;o<c.children.length;o++)Array.add(e,a._createItem(h,c.children[o]));a.set_items(e);$registerItems(h,e,a.get_hoverStyle(),a.get_popupPosition(),a.get_itemDescriptionStyle());if(c.selected)i=c}}a._render(f);if(a.get_showSiteActions()){h=a.get_id()+"_SiteActions";e=[];if(a._selectedItem){var p=a._selectedItem.get_parent()?a._selectedItem.get_parent().get_children():Web.HoverMonitor.Families[a._selectedItem.get_family()].items;for(b=0;b<p.length;b++){var j=p[b];if(!String.isNullOrEmpty(j.get_url())&&j!=a._selectedItem){var d=new Web.Item(h,j.get_text(),j.get_description());d.set_url(j.get_url());d.set_cssClass(j.get_cssClass());Array.add(e,d)}}}if(e.length==0){if(i&&i.children&&!(i.children.length==1&&i.children[0].selected))f=i.children;for(b=0;b<f.length;b++){c=f[b];if(!String.isNullOrEmpty(c.url)&&(!c.selected||f.length==1)){d=new Web.Item(h,c.title,c.description);d.set_url(c.url);d.set_cssClass(c.cssClass);Array.add(e,d)}}}$registerItems(h,e,Web.HoverStyle.ClickAndStay,Web.PopupPosition.Right,Web.ItemDescriptionStyle.Inline);Web.Menu._siteActionsFamily=h;var k=$getSideBar();if(k&&e.length>0){for(b=0;b<k.childNodes.length;b++){var n=k.childNodes[b];if(n.className&&Sys.UI.DomElement.containsCssClass(n,"About")){n.getElementsByTagName("div")[1].innerHTML=r.About;break}}var g=new Sys.StringBuilder;g.append('<div class="Inner">');g.appendFormat('<div class="Header">{0}</div>',r.SeeAlso);for(b=0;b<e.length;b++){d=e[b];!String.isNullOrEmpty(d.get_url())&&g.appendFormat('<div class="Item"><a href="{0}" title="{2}">{1}</a></div>',d.get_url(),String.trimLongWords(d.get_text()),String.trimLongWords(d.get_description()));if(b>5)break}g.append("</div>");var m=document.createElement("div");m.className="TaskBox SeeAlso";m.innerHTML=g.toString();g.clear();k.insertBefore(m,k.childNodes[k.childNodes.length-1])}var s=$get("TableOfContents");if(s){g.append('<div class="TableOfContents">');for(b=0;b<f.length;b++){c=f[b];g.appendFormat('<div class="Header">',c.get_text())}g.append("</div>")}}else{var l=Web.PageState.read(a.get_id());if(l!=null){var t=a._element.getElementsByTagName("td");a.select(l,t[l])}}},get_presentationStyle:function(){return this._presentationStyle},set_presentationStyle:function(a){this._presentationStyle=a},_createNewColumn:function(a,c,b){return a.cssClass&&a.cssClass.match(/(^|\s*)menu-new-column(\s*|$)/)?$("<div>").addClass("column "+b).appendTo(c):null},_createNavButton:function(v){var f="menu-button-active",d="ul",e=false,a=null,j=a,c=a,k=e,l=e,i=a;$("div.PageMenuBar").hide();var b=$("<ul>").attr("id",this._id).addClass("root-level"),o=$("<div>").addClass("menu-button-container").css({position:"absolute",height:"1px",left:"0px",top:"0px"});o.appendTo(document.body);b.appendTo(o);var s=function(c,f){for(var b=0;b<c.length;b++){var a=c[b],d=$("<li>").appendTo(f),e=$("<a>").attr({href:a.url,title:a.description}).text(a.title).appendTo(d);if(a.selected&&!a.children){e.addClass("selected");i=e}a.children&&a.children.length>0&&s(a.children,$("<ul>").addClass("menu-level").appendTo(d))}};s(v,b);for(var h=0,y=$("#"+this._id+" > li > a").each(function(){var a=$(this).outerWidth();if(a>h)h=a}),g=$("#PageHeaderBar").addClass("menu-button-bar").contents().wrap('<span class="menu-button"></span>').parent().button({icons:{secondary:"ui-icon-triangle-1-s"}}),r=g.width()-4,t=b.find(d).addClass("sub-level"),q=t.length-1;q>=0;q--){var w=$(t[q]),n=0;w.find("> li > a").each(function(){var a=$(this).outerWidth();if(a>n)n=a}).width(n+25)}b.find(d).each(function(){$(this).find(d).length==0&&$(this).addClass("last-level")});h+=25;if(r>h)b.width(r);else b.width(h);var m=function(){if(!c)c=setTimeout(function(){if(!l){b.hide();g.removeClass(f)}c=a},200)},u=function(){if(c){clearTimeout(c);c=a}};o.find(d).hover(function(){l=true},function(a){if($(a.toElement).find("li:parent ul.menu-level:parent").length==0){l=e;m()}});b.menu({position:{of:"ul:has(a.ui-state-focus):last"},select:function(){},blur:function(){!k&&m()},focus:function(){if(c){clearTimeout(c);c=a}b.show()}});var p=b.outerHeight();b.find(d).show().each(function(){var a=$(this).outerHeight();if(a>p)p=a}).andSelf().height(p).hide();b.hide();var x=0;g.hover(function(){k=true;u();j=setTimeout(function(){var h="div.menu-button-container",e="left bottom",c="left top";g.addClass(f);b.show().position({my:c,at:e,of:g});j=a;if(i){i.parentsUntil(h,"li").find("a:first").not("a.selected").addClass("ui-state-active");b.show().position({my:c,at:e,of:g});for(var l=i.parentsUntil(h,d).show(),k=l.length-2;k>=0;k--){var m=$(l[k]);m.position({my:c,at:"right top",of:$(l[k+1])})}i=a}},500)},function(){k=e;if(j){clearTimeout(j);j=a}m()})},_createMenu:function(m,l,d){var i="style",h="div.level2:first",g="unhover",f="li",e="hover",r="<span>",q="menuItemUrl",s="first",o=this,x=o._presentationStyle==2,C=null;if(d==1&&x){o._createNavButton(m);return}var p=null,j="level"+d;if(d>1)l=$("<div>").addClass("children "+j).appendTo(l.first());var k=null;if(d==2)for(var c=0;c<m.length;c++){var a=m[c];k=o._createNewColumn(a,l,j);if(k){k.addClass(s);break}}var y=$("<ul>").addClass(j).appendTo(k?k:l),t=true;for(c=0;c<m.length;c++){a=m[c];if(k&&c>0){var u=o._createNewColumn(a,l,j);if(u){k=u;y=$("<ul>").addClass(j).appendTo(u);t=true}}var b=$("<li>").addClass(j).appendTo(y);if(a.selected){b.addClass("current");p=a}c==0&&b.addClass(s);c==m.length-1&&b.addClass("last");var n=a.url;if(String.isNullOrEmpty(n)&&d==1)n="javascript:void(0)";if(!String.isNullOrEmpty(n)){var v=$("<a>").attr({href:n,"class":j,tabIndex:$nextTabIndex()}).appendTo(b);if(n.match(Web.Menu.UrlRegex.match)){v.attr(q,n);v.click(function(a){a.preventDefault();Web.Menu.navigate(this.getAttribute(q))})}var A=$(r).addClass("outer").appendTo(v);$(r).addClass("inner").appendTo(A).text(a.title).attr("title",a.description)}else{var B=$(r).addClass("text "+j).text(a.title).appendTo(b);if(t){t=false;B.addClass(s)}}if(d==1)if(x)b.hover(function(){var j=$(this).addClass(e);j.siblings(f).addClass(g);var b=$(h,this);if(b.size()==1){var a=$(this).parents("div.nav-button.menu:first"),c=a.offset(),d=a.outerWidth(),k=a.outerHeight();c.left+=d;b.removeAttr(i).offset({left:0,top:0}).css("width","auto");b.removeAttr(i).offset(c)}},function(){var a=$(this).removeClass(e).siblings(f).removeClass(g);$(h,this).hide()});else b.hover(function(){var b=$(this).addClass(e);b.siblings(f).addClass(g);$closeHovers();var c=$(h,this);if(c.size()==1){var a=b.offset();a.top+=b.outerHeight();var l=b.outerWidth(),d=$(window).width(),k=$(window).height();c.removeAttr(i).offset({left:0,top:0});var j=c.outerWidth();if(a.left+j>d)a.left=d-j-10;if(a.left<0)a.left=0;c.hide().removeAttr(i).offset(a)}},function(){var a=$(this).removeClass(e).siblings(f).removeClass(g);$(h,this).hide()});var z=a.children&&a.children.length>0;if(z){var w=o._createMenu(a.children,b,d+1);if(w){p=w;b.addClass("selected")}b.addClass("parent");d==1&&a.cssClass&&$("div.children:first",b).addClass(a.cssClass)}else b.addClass("terminal");d==2&&l.hide()}return p},get_nodes:function(){var a=this;if(!a._nodes)a._nodes=Web.Menu.Nodes[a.get_id()];return a._nodes},set_nodes:function(a){this._nodes=a},get_orientation:function(){return this._orientation},set_orientation:function(a){this._orientation=a},get_cssClass:function(){return this._cssClass},set_cssClass:function(a){this._cssClass=a},get_hoverStyle:function(){return this._hoverStyle},set_hoverStyle:function(a){this._hoverStyle=a},get_itemDescriptionStyle:function(){return this._itemDescriptionStyle},set_itemDescriptionStyle:function(a){this._itemDescriptionStyle=a},get_popupPosition:function(){return this._popupPosition},set_popupPosition:function(a){this._popupPosition=a},get_showSiteActions:function(){return this._showSiteActions},set_showSiteActions:function(a){this._showSiteActions=a},get_items:function(){return this._items},set_items:function(a){this._items=a},_createItem:function(e,a,d){var b=new Web.Item(e,a.title,a.description);b.set_url(a.url);if(a.selected){b.set_selected(a.selected);this._currentNode.selected=true;this._selectedItem=b}d&&d.addChild(b);if(a.children)for(var c=0;c<a.children.length;c++)this._createItem(e,a.children[c],b);return b},_render:function(f){var e="td.Item a.Link",a=this;$("td.Item",a._element).unbind("mouseover mouseout click");$(e,a._element).unbind("click focus blur");var b=new Sys.StringBuilder;b.appendFormat('<table class="{0}" cellpadding="0" cellspacing="0" style="float:left">',a.get_cssClass());a.get_orientation()==Web.MenuOrientation.Horizontal&&b.append("<tr>");for(var d=0;d<f.length;d++){var c=f[d];a.get_orientation()==Web.MenuOrientation.Vertical&&b.append("<tr>");b.appendFormat('<td class="Item{3}" onmouseover2="$showHover(this,&quot;{0}_{1}&quot;,&quot;{4}&quot;)" onmouseout2="$hideHover(this)" onclick2="if(this._skip)this._skip=false;else $find(&quot;{0}&quot).select({1},this);"{7}><span class="Outer"><span class="Inner"><span class="Link"><a href="javascript:" class="Link" onclick2="this.parentNode.parentNode.parentNode.parentNode._skip=true;$hoverOver(this, 4);$find(&quot;{0}&quot).select({1},this);return false;" onfocus2="$showHover(this,&quot;{0}_{1}&quot;,&quot;{4}&quot;, 4)" onblur2="$hideHover(this)" tabIndex="{6}" {5}>{2}</a></span></span></span></td>',a.get_id(),d,$appfactory.htmlEncode(c.title),(c.children?" Parent":"")+(c.selected?" Selected":""),a.get_cssClass(),String.isNullOrEmpty(c.description)||a.get_itemDescriptionStyle()==Web.ItemDescriptionStyle.None?"":String.format(' title="{0}"',$appfactory.htmlAttributeEncode(c.description)),$nextTabIndex(),c.hidden=="true"?' style="display:none"':"");a.get_orientation()==Web.MenuOrientation.Vertical&&b.append("</tr>")}a.get_orientation()==Web.MenuOrientation.Horizontal&&b.append("</tr>");b.append("</table>");if(a.get_showSiteActions()){b.appendFormat('<table class="Menu SiteActions" cellpadding="0" cellspacing="0" style="float:right"><tr><td class="Item Parent" onmouseover2="$showHover(this,&quot;{0}_SiteActions&quot;,&quot;SiteActions&quot;)" onmouseout2="$hideHover(this)" onclick2="if(this._skip)this._skip=false;else $toggleHover()"><span class="Outer"><span class="Inner"><span class="Link"><a href="javascript:" class="Link" onclick2="this.parentNode.parentNode.parentNode.parentNode._skip=true;$toggleHover();$hoverOver(this, 4);return false" onfocus2="$showHover(this,&quot;{0}_SiteActions&quot;,&quot;SiteActions&quot;, 4)" onblur2="$hideHover(this)" tabIndex="{1}">{2}</a></span></span></span></td></tr></table>',a.get_id(),$nextTabIndex(),Web.DataViewResources.Menu.SiteActions);var g=document.createElement("div");a._element.parentNode.appendChild(g)}a._element.innerHTML=b.toString();$("td.Item",a._element).mouseover(function(){return __evalEvent.call(this,"mouseover")}).mouseout(function(){return __evalEvent.call(this,"mouseout")}).click(function(a){a.preventDefault();return __evalEvent.call(this,"click")});$(e,a._element).click(function(a){a.preventDefault();return __evalEvent.call(this,"click")}).focus(function(){return __evalEvent.call(this,"focus")}).blur(function(){return __evalEvent.call(this,"blur")});b.clear()},select:function(f,a){var e="Selected",d=this;_body_createPageContext();var c=d.get_nodes()[f];if(!String.isNullOrEmpty(c.elementId)){Web.PageState.write(d.get_id(),f);for(var g=$get(c.elementId),b=0;b<d.get_nodes().length;b++){c=d.get_nodes()[b];!String.isNullOrEmpty(c.elementId)&&Sys.UI.DomElement.setVisible($get(c.elementId),false)}Sys.UI.DomElement.setVisible(g,true);while(!Sys.UI.DomElement.containsCssClass(a,"Item"))a=a.parentNode;for(b=0;b<a.parentNode.childNodes.length;b++)Sys.UI.DomElement.removeCssClass(a.parentNode.childNodes[b],e);Sys.UI.DomElement.addCssClass(a,e);_body_performResize();try{a.focus()}catch(h){}}else Web.Menu.navigate(c.url)}};Web.Menu.Nodes=[];Web.Menu.findNode=function(e,a){if(!a)a=this.Nodes[this.MainMenuId];for(var c=0;c<a.length;c++){var b=a[c];if(b.url.match(e))return b;if(b.children){var d=Web.Menu.findNode(e,b.children);if(d)return d}}return null};Web.Menu.get_siteActionsFamily=function(){return Web.Menu._siteActionsFamily};Web.Menu.get_siteActions=function(){return Web.HoverMonitor.Families[this._siteActionsFamily].items};Web.Menu.set_siteActions=function(a){Web.HoverMonitor.Families[this._siteActionsFamily].items=a};Web.Menu.UrlRegex=/^(_.+?):(.+?)$/;Web.Menu.navigate=function(a){if(String.isNullOrEmpty(a))return;var b=a.match(Web.Menu.UrlRegex);if(b)window.open(b[2],b[1]);else{$appfactory._navigated=true;location.href=a}};Web.Menu.registerClass("Web.Menu",Sys.UI.Behavior);Web.HoverStyle={None:0,Auto:1,Click:2,ClickAndStay:3};Web.PopupPosition={Left:0,Right:1};Web.MenuOrientation={Horizontal:0,Vertical:1};Web.ItemDescriptionStyle={None:0,Inline:1,ToolTip:2};Web.HoverMonitor=function(){Web.HoverMonitor.initializeBase(this);this._popups=[]};Web.HoverMonitor.prototype={initialize:function(){var a=this;Web.HoverMonitor.callBaseMethod(a,"initialize");a._hoverArrowHandlers={click:a._hoverArrow_click,mouseover:a._hoverArrow_mouseover,mouseout:a._hoverArrow_mouseout};a._hoverMenuHandlers={mouseover:a._hoverMenu_mouseover,mouseout:a._hoverMenu_mouseout};a._documentKeydownHandler=Function.createDelegate(a,a._document_keydown);a._documentClickHandler=Function.createDelegate(a,a._document_click);$addHandler(document,"keydown",a._documentKeydownHandler);$addHandler(document,"click",a._documentClickHandler);a._tabIndex=1},dispose:function(){var a=this;delete a._factory;for(var b=0;b<Web.HoverMonitor.Families.length;b++)$unregisterItems(Web.HoverMonitor.Families[b].family);$removeHandler(document,"click",a._documentClickHandler);$removeHandler(document,"keydown",a._documentKeydownHanlder);a.stopClose();a.stopCloseItem();a.stopOpen();for(b=0;b<a._popups.length;b++)a._destroyPopup(b);a._destroyFrame(a._hoverFrame);a._destroyFrame(a._openFrame);Web.HoverMonitor.callBaseMethod(a,"dispose")},nextTabIndex:function(){return this._tabIndex++},_createPopup:function(c){var b=this;if(!b._popups[c]){var a=document.createElement("div");document.body.appendChild(a);a.className="HoverMenu";Sys.UI.DomElement.setVisible(a,false);var d=$create(AjaxControlToolkit.PopupBehavior,{id:"HoverMonitorPopup"+c},null,null,a),e={behavior:d,container:a};b._popups[c]=e;$addHandlers(a,b._hoverMenuHandlers,b)}return b._popups[c]},_destroyPopup:function(b){var a=this._popups[b];if(!a)return;a.behavior.dispose();$clearHandlers(a.container);a.container.parentNode.removeChild(a.container);delete a.container;delete this._popups[b]},_renderPopup:function(c,h,b,r){var k="</div>",d=null,a=new Sys.StringBuilder;c.container.style.width="";c.container.style.height="";c.container.style.overflow="";c.container.className=String.format("HoverMenu {0}_HoverMenu",r);var m=false,j=this.get_itemDescriptionStyle(h),q=Web.HoverMonitor.Families[h];if(q){for(var n=b?b.get_children():q.items,f=d,i=0;i<n.length;i++){b=n[i];if(b.get_group()!=f){f!=d&&a.append(k);f=b.get_group();f!=d&&a.append('<div class="Group">')}if(b.get_text()){var l=b.get_selected();a.append('<a href="javascript:" class="Item');b.get_cssClass()&&a.append(" "+b.get_cssClass());l&&a.append(" Selected");b.get_disabled()&&a.appendFormat(" {0}Disabled Disabled",b.get_cssClass());a.append('"');if(b.get_disabled())a.append(' onclick2="return false"');else{path=b.get_path();a.appendFormat(' onclick2="$selectItem(&quot;{0}&quot;,&quot;{1}&quot);return false"',h,path);a.appendFormat(' onmouseover2="$activateItem(&quot;{0}&quot;,&quot;{1}&quot;)" onmouseout2="$deactivateItem(&quot;{0}&quot;,&quot;{1}&quot;)"',h,path)}var g=j==Web.ItemDescriptionStyle.None?d:b.get_description();!b.get_children()&&g!=d&&j==Web.ItemDescriptionStyle.ToolTip&&a.appendFormat(' title="{0}"',$appfactory.htmlAttributeEncode(g));a.appendFormat(' id="{0}"',b.get_id());a.append(">");l&&b.get_children()&&a.append('<div class="Parent">');var p=String.htmlEncode(b.get_text());if(!String.isNullOrEmpty(g)&&j==Web.ItemDescriptionStyle.Inline){m=true;a.appendFormat('<span class="Outer"><span class="Inner"><span class="Self"><span class="Text">{0}</span><span class="Description">{1}</span></span></span></span>',p,g)}else a.appendFormat('<span class="Outer"><span class="Inner"><span class="Self">{0}</span></span></span>',p);l&&b.get_children()&&a.append(k);a.append("</a>");b.get_dynamic()&&window.setTimeout(b.get_script(),50)}else a.append('<div class="Break"></div>')}f!=d&&a.append(k)}else return d;var e=this._factory;if(!e)e=this._factory=document.createElement("div");$("a.Item",c.container).unbind("click mouseover mouseout");e.innerHTML=a.toString();c.container.innerHTML="";i=0;while(e.childNodes.length>0){var o=e.childNodes[0];e.removeChild(o);c.container.appendChild(o)}a.clear();if(m)c.container.className=c.container.className+" "+c.container.className.replace(/(\w+)/g,"$1Ex");$("a.Item",c.container).mouseover(function(){return __evalEvent.call(this,"mouseover")}).mouseout(function(){return __evalEvent.call(this,"mouseout")}).click(function(){return __evalEvent.call(this,"click")});return c},_createFrame:function(b){var e="none",d="absolute",c="div",a={top:document.createElement(c),right:document.createElement(c),bottom:document.createElement(c),left:document.createElement(c),arrow:document.createElement(c)};a.top.style.position=d;a.top.style.display=e;a.top.style.zIndex=b;a.top.className="HoverMonitor_TopLine";document.body.appendChild(a.top);a.right.style.position=d;a.right.style.display=e;a.right.style.zIndex=b;a.right.className="HoverMonitor_RightLine";document.body.appendChild(a.right);a.bottom.style.position=d;a.bottom.style.display=e;a.bottom.style.zIndex=b;a.bottom.className="HoverMonitor_BottomLine";document.body.appendChild(a.bottom);a.left.style.position=d;a.left.style.display=e;a.left.style.zIndex=b;a.left.className="HoverMonitor_LeftLine";document.body.appendChild(a.left);a.arrow.style.position=d;a.arrow.style.display=e;a.arrow.style.zIndex=b;a.arrow.className="HoverMonitor_Arrow";document.body.appendChild(a.arrow);a.arrow.innerHTML=String.format('<div style="z-index:{0}"></div>',b+1);return a},_destroyFrame:function(a){if(!a)return;document.body.removeChild(a.top);delete a.top;document.body.removeChild(a.right);delete a.right;document.body.removeChild(a.bottom);delete a.bottom;document.body.removeChild(a.left);delete a.left;$clearHandlers(a.arrow);document.body.removeChild(a.arrow);delete a.arrow;delete a.element},get_hoverFrame:function(){var a=this;if(!a._hoverFrame){a._hoverFrame=a._createFrame(Web.HoverMonitor.HoverFrameZIndex);$addHandlers(a._hoverFrame.arrow,a._hoverArrowHandlers,a)}return a._hoverFrame},get_openFrame:function(){var a=this;if(!a._openFrame)a._openFrame=a._createFrame(Web.HoverMonitor.OpenFrameZIndex);return a._openFrame},get_hoverItems:function(b){var a=Web.HoverMonitor.Families[b.family];return a?a.items:null},get_hoverStyle:function(b){var a=Web.HoverMonitor.Families[b.family];return a?a.style:Web.HoverStyle.None},get_PopupPosition:function(b){var a=Web.HoverMonitor.Families[b.family];return a?a.position:Web.HoverStyle.Left},get_itemDescriptionStyle:function(b){var a=Web.HoverMonitor.Families[b];return a?a.itemDescriptionStyle:Web.HoverStyle.Inline},get_hoverBounds:function(b){return $appfactory.bounds(b.element)},deactivate:function(b,d){var a=Web.Item.find(b,d);if(a){var c=$get(a.get_id());Sys.UI.DomElement.removeCssClass(c,"Active")}},get_activeFamily:function(){return this._activeFamily},get_activePath:function(){return this._activePath},get_activeItem:function(){return Web.Item.find(this.get_activeFamily(),this.get_activePath())},get_hoverFamily:function(){var a=this.get_hoverFrame().family;return Web.HoverMonitor.Families[a]},get_openFamily:function(){var a=this.get_openFrame().family;return Web.HoverMonitor.Families[a]},get_isVisible:function(){return this.get_hoverFrame().visible},get_isOpen:function(){return this.get_openFrame()._open},showFrame:function(h,j,e,a){var c="px",d=true;a.cssClass=e;a.family=j;a.element=h;Sys.UI.DomElement.addCssClass(h,a.cssClass+"_Hover");var b=this.get_hoverBounds(a);Sys.UI.DomElement.setVisible(a.top,d);a.top.style.width=b.width+c;a.top.style.left=b.x+c;a.top.style.top=b.y+c;a.top.className="HoverMonitor_TopLine "+e+"_TopLine";Sys.UI.DomElement.setVisible(a.right,d);a.right.style.left=b.x+b.width-1+c;a.right.style.top=b.y+c;a.right.style.height=b.height+c;a.right.className="HoverMonitor_RightLine "+e+"_RightLine";Sys.UI.DomElement.setVisible(a.bottom,d);a.bottom.style.left=b.x+c;a.bottom.style.top=b.y+b.height-1+c;a.bottom.style.width=b.width+c;a.bottom.className="HoverMonitor_BottomLine "+e+"_BottomLine";Sys.UI.DomElement.setVisible(a.left,d);a.left.style.left=b.x+c;a.left.style.top=b.y+c;a.left.style.height=b.height+c;a.left.className="HoverMonitor_LeftLine "+e+"_LeftLine";var k=Web.HoverMonitor.Families[a.family];if(k){Sys.UI.DomElement.setVisible(a.arrow,d);a.arrow.className="HoverMonitor_Arrow "+e+"_Arrow";var g=Sys.UI.DomElement.getVisible(a.arrow);!g&&Sys.UI.DomElement.setVisible(a.arrow,d);var f=$appfactory.borderBox(a.arrow);b.width-=f.horizontal;b.height-=f.vertical;var i=a.arrow.offsetWidth-f.horizontal;a.arrow.style.top=b.y+1+c;a.arrow.style.left=b.x+b.width-1-i+c;a.arrow.style.height=b.height-2+c;!g&&Sys.UI.DomElement.setVisible(a.arrow,false)}a.visible=d},hideFrame:function(a){var b=false;if(!a.element)return;a.top.className="HoverMonitor_TopLine";Sys.UI.DomElement.setVisible(a.top,b);a.right.className="HoverMonitor_RightLine";Sys.UI.DomElement.setVisible(a.right,b);a.bottom.className="HoverMonitor_BottomLine";Sys.UI.DomElement.setVisible(a.bottom,b);a.left.className="HoverMonitor_LeftLine";Sys.UI.DomElement.setVisible(a.left,b);a.arrow.className="HoverMonitor_Arrow";a.arrow.style.width="";Sys.UI.DomElement.setVisible(a.arrow,b);Sys.UI.DomElement.removeCssClass(a.element,a.cssClass+"_Hover");a.visible=b},hidePopups:function(d){var a=null,b=this;if(d==a)d=0;for(var e=d;e<b._popups.length;e++){var f=b._popups[e];f&&f.behavior.hide()}if(d==0){var c=b.get_openFrame();c._open=false;c.family=a;c.cssClass=a;delete c.element;b._activeFamily=a;b._activePath=a}},showPopup:function(j,l){var e="px",n=true,i=this;i.stopOpen();var p=l?l.get_depth()+1:0;i.hidePopups(p);var f=$appfactory.clientBounds(),d=$appfactory.scrolling(),b=i._renderPopup(i._createPopup(p),j.family,l,j.cssClass);if(!b)return;var m=l?$get(l.get_id()):null,c=m?$appfactory.bounds(m):i.get_hoverBounds(j);if(l){c.x=c.x+c.width+2;c.y=c.y-(c.height-2)}b.behavior.set_x(c.x);b.behavior.set_y(c.y+c.height);b.behavior.show();if(m){var a=$appfactory.bounds(b.container),t=d.x+f.width<a.x+a.width;if(!t)for(var k=p-2;k>=0;k--){var s=$appfactory.bounds(i._popups[k].container),B=s.x<a.x&&s.x+s.width>a.x;if(B){t=n;break}}c=$appfactory.bounds(m);if(t){c.x=c.x-a.width;if(c.x>=0)b.container.style.left=c.x+e}}if(p==0&&Web.PopupPosition.Right==i.get_PopupPosition(j))b.container.style.left=c.x+c.width-$(b.container).outerWidth()+e;a=$appfactory.bounds(b.container);if(a.x+a.width>=d.x+f.width)b.container.style.left=d.x+f.width-a.width+e;else if(a.x<d.x)b.container.style.left=d.x+e;if(a.y+a.height>=d.y+f.height){var y=n,v=b.container.getElementsByTagName("div");for(k=0;k<v.length;k++){var h=v[k];if(h.className=="Group"){var A=Math.ceil((d.y+f.height-c.y)/5*4),g=$appfactory.bounds(h),x=g.height<100?g.height:100;g.height=A-(g.y-a.y);if(g.height<x)g.height=x;else y=false;if(h.offsetHeight>g.height){h._autoScrolling=n;h.style.height=g.height+e;h.style.overflow="auto";h.style.overflowX="hidden";if(h.offsetWidth<g.width&&window.external){var w=h.childNodes[h.childNodes.length-1],r=$appfactory.paddingBox(w),u=$appfactory.borderBox(w);w.style.width=g.width-r.horizontal-u.horizontal+e}}a=$appfactory.bounds(b.container);break}}v=null;if(y){var q=c.y+c.height-a.height;if(q<d.y)q=d.y;b.container.style.top=q+e;if(q+a.height>d.y+f.height){b.container.style.top=d.y+f.height-a.height-2+e;a=$appfactory.bounds(b.container);if(a.y<d.y){b.container.style.top=d.y+e;if(a.height>f.height){u=$appfactory.borderBox(b.container);r=$appfactory.paddingBox(b.container);b.container.style.height=f.height-u.vertical-r.vertical+e;b.container.style.overflow="auto";b.container.style.overflowX="hidden"}}}if(!m){a=$appfactory.bounds(b.container);a.y=c.y-a.height;if(a.y<d.y){var z=d.x+f.width-(c.x+c.width);if(z>=a.width)b.container.style.left=c.x+c.width+e;else{a.x=c.x-a.width;if(a.x<0)a.x=0;b.container.style.left=a.x+e}a.y=d.y}b.container.style.top=a.y+e}}}b.container.style.zIndex=Web.HoverMonitor.HoverMenuZIndex;var o=i.get_openFrame();o.family=j.family;o.cssClass=j.cssClass;o.element=j.element;o._open=n},hover:function(b,i,h,d){var a=this;if(d==null)d=0;a.stopOpen();a.stopClose();while(d-->0&&b)b=b.parentNode;var f=a.get_hoverFrame();f.arrow.className="HoverMonitor_Arrow";var e=a.get_hoverStyle(a.get_openFrame());a.hideFrame(a.get_openFrame());a.showFrame(b,i,h,f);var c=a.get_isOpen();if(c)(a.get_hoverFrame().element!=a.get_openFrame().element&&e==Web.HoverStyle.Auto||e==Web.HoverStyle.ClickAndStay)&&a.hidePopups();if(a._skipOpen){a._skipOpen=false;return}var g=a.get_hoverStyle(a.get_hoverFrame());if(g==Web.HoverStyle.Auto||c&&g==Web.HoverStyle.ClickAndStay)a.showPopup(a.get_hoverFrame());else c&&a._showOpenFrame()},_showOpenFrame:function(){var b=this,a=b.get_openFrame();if(b.get_isOpen()){if(!a.element)a=b.get_hoverFrame();b.showFrame(a.element,a.family,a.cssClass,a)}},unhover:function(){var a=this;if(a._skipUnhover)a._skipUnhover=false;else{a.hideFrame(a.get_hoverFrame());if(a.get_isOpen()){a.startClose();a.get_hoverStyle(a.get_openFrame())!=Web.HoverStyle.Click&&a._showOpenFrame()}}},select:function(d,e){try{var c=new Sys.UI.DomEvent(window.event);c.stopPropagation();c.preventDefault()}catch(f){}var a=Web.Item.find(d,e);if(a.get_confirmation()&&!confirm(a.get_confirmation()))return;var b=a.get_script();if(b){if(typeof b=="string")eval(a.get_script());else b(a.context());this.close()}else if(!String.isNullOrEmpty(a.get_url())){Web.Menu.navigate(a.get_url());this.close()}},stopClose:function(){this._closeInterval&&window.clearInterval(this._closeInterval);this._closeInterval=null},startClose:function(){this.stopClose();this._closeInterval=setInterval(function(){var a=Web.HoverMonitor._instance;a.stopClose();a.close()},1e3)},closeItem:function(c,e){var b=this;b.stopCloseItem();var d=c!=null&&e!=null?Web.Item.find(c,e):b.get_activeItem(),a=b.get_activeItem();d&&a&&(d!=a||!a.get_children())&&b.hidePopups(a.get_depth()+1)},stopCloseItem:function(){this._closeItemInterval&&window.clearInterval(this._closeItemInterval);this._closeItemInterval=null},startCloseItem:function(a,b){this.stopCloseItem();this._closeItemInterval=setInterval(function(){Web.HoverMonitor._instance.closeItem(a,b)},1e3)},stopOpen:function(){this._openInterval&&window.clearInterval(this._openInterval);this._openInterval=null},startOpen:function(b,c){var a=this;a.stopOpen();a.stopCloseItem();a.stopClose();if(!a._skipStartOpen){a._openInterval=setInterval(function(){Web.HoverMonitor._instance.open(b,c)},Web.HoverMonitor._instance._tempOpenDelay!=null?Web.HoverMonitor._instance._tempOpenDelay:500);Web.HoverMonitor._instance._tempOpenDelay=null}a._skipStartOpen=false},open:function(c,d){var b=this;b.stopOpen();var a=Web.Item.find(c,d);if(a){b.hidePopups(a.get_depth()+1);if(a==null||!a.get_children())return;b.showPopup(b.get_openFrame(),a)}},toggle:function(){var a=this;if(Web.HoverMonitor._preventToggleHover){Web.HoverMonitor._preventToggleHover=false;return}if(a.get_isOpen()&&a.get_hoverFrame().family==a.get_openFrame().family){a.hideFrame(a.get_openFrame());a.hidePopups();var b=a.get_hoverFrame();a.showFrame(b.element,b.family,b.cssClass,b)}else{a.hideFrame(a.get_openFrame());a.showPopup(a.get_hoverFrame())}a.stopClose()},refresh:function(b){var a=this;if(a.get_isOpen()&&a.get_openFrame().family==b){a.toggle();a.toggle()}},_hoverArrow_click:function(a){a.preventDefault();a.stopPropagation();this.toggle()},_hoverArrow_mouseover:function(){var a=this.get_hoverFrame();this.showFrame(a.element,a.family,a.cssClass,a)},_hoverArrow_mouseout:function(){this.hideFrame(this.get_hoverFrame());this._showOpenFrame()},close:function(){var a=this;a.hideFrame(a.get_openFrame());a.hideFrame(a.get_hoverFrame());a.hidePopups()},activate:function(d,e,i){var c=this;c._activeFamily=d;c._activePath=e;var b=Web.Item.find(d,e);if(!b||b.get_children())c.startOpen(d,e);else if(b){c.stopOpen();c.startCloseItem(d,e)}var l=true;while(b){var a=$get(b.get_id());if(l){l=false;if(a){var f=a.parentNode;if(f.className=="Group")f=f.parentNode;for(var j=f.getElementsByTagName("a"),k=0;k<j.length;k++)Sys.UI.DomElement.removeCssClass(j[k],"Active");j=null}}a&&Sys.UI.DomElement.addCssClass(a,"Active");if(i&&a.parentNode._autoScrolling){var g=$appfactory.bounds(a.parentNode),h=$appfactory.bounds(a);(h.y<g.y||h.y+h.height>g.y+g.height-1)&&a.scrollIntoView(!(i=="down"||i=="end"));a.parentNode.scrollLeft=0}b=b.get_parent()}},_moveToItem:function(d,e){if(!d)return;var c=d.get_parent()?d.get_parent().get_children():Web.HoverMonitor.Families[d.get_family()].items,a=Array.indexOf(c,d),b=null;switch(e){case"down":a=a<c.length-1?a+1:0;break;case"up":a=a>0?a-1:c.length-1;break;case"home":a=0;break;case"end":a=c.length-1}b=c[a];if(b){var f=a;while(String.isNullOrEmpty(b.get_text())||b.get_disabled()){a+=e=="down"||e=="home"?1:-1;if(a<0)a=c.length;else if(a>c.length-1)a=0;if(a==f){b=null;break}else b=c[a]}}if(b){$activateItem(b.get_family(),b.get_path(),e);!b.get_children()&&this.startCloseItem(b.get_family(),b.get_path())}},_openItem:function(a){if(a&&a.get_children()){this.open(a.get_family(),a.get_path());a=a.get_children()[0];$activateItem(a.get_family(),a.get_path())}},_openFirstItem:function(){var a=this.get_openFamily();a&&this._moveToItem(a.items[0],"home")},_document_keydown:function(c){var a=this;if(a.get_isOpen()){a.stopOpen();$appfactory._focusedItemIndex=null;var b=a.get_activeItem();if(!b&&(c.keyCode==Sys.UI.Key.down||c.keyCode==Sys.UI.Key.up)){c.preventDefault();a._openFirstItem()}else{if(c.keyCode==Sys.UI.Key.tab&&!b)if(a.get_hoverStyle(a.get_hoverFrame())==Web.HoverStyle.Auto)return;else{c.preventDefault();a._openFirstItem()}switch(c.keyCode){case Sys.UI.Key.enter:if(b)if(String.isNullOrEmpty(b.get_url())&&b.get_children())a._openItem(b);else a.select(b.get_family(),b.get_path());break;case Sys.UI.Key.esc:if(b&&b.get_parent()){a.hidePopups(b.get_depth());b=b.get_parent();$activateItem(b.get_family(),b.get_path());a.stopOpen()}else{var f=a.get_hoverFrame(),d=f.element;a.close();if(d){if(d.tagName.toLowerCase()!="a"){var e=d.getElementsByTagName("a");if(e&&e.length>0)d=e[0];delete e}try{d.focus()}catch(c){}}a._skipOpen=true;$showHover(f.element,f.family,f.cssClass)}break;case Sys.UI.Key.down:a._moveToItem(b,"down");break;case Sys.UI.Key.up:a._moveToItem(b,"up");break;case Sys.UI.Key.tab:a._moveToItem(b,c.shiftKey?"up":"down");break;case Sys.UI.Key.home:a._moveToItem(b,"home");break;case Sys.UI.Key.end:a._moveToItem(b,"end");break;case Sys.UI.Key.right:case Sys.UI.Key.left:a._openItem(b);break;default:return}c.preventDefault();c.stopPropagation()}}else if(a.get_isVisible())switch(c.keyCode){case Sys.UI.Key.down:case Sys.UI.Key.up:a.get_hoverFamily()&&a.showPopup(a.get_hoverFrame());c.preventDefault()}},_document_click:function(b){if(this._openFrame&&this._openFrame._open){var a=b.target;while(a){if(!String.isNullOrEmpty(a.className)&&a.className.match(/\s+\w+_Hover/))return;a=a.parentNode}this.close()}},_hoverMenu_mouseover:function(){var a=this;a.stopClose();a.get_isOpen()&&a.get_hoverStyle(a.get_openFrame())==Web.HoverStyle.Click&&a._showOpenFrame()},_hoverMenu_mouseout:function(){this.startClose()}};Web.HoverMonitor.Families=[];function $closeHovers(){var a=Web.HoverMonitor._instance;a&&a.close()}function $hoverOver(a,b){while(b-->0)a=a.parentNode;a.focus();$skipUnhover()}function $skipUnhover(){Web.HoverMonitor._instance._skipUnhover=true}function $nextTabIndex(){var a=Web.HoverMonitor._instance;return a?a.nextTabIndex():-1}function $showHover(d,b,a,c){Web.HoverMonitor._instance.hover(d,b,a,c)}function $hideHover(){if(__ie6&&event.fromElement&&event.fromElement.tagName=="A"&&event.fromElement.parentNode.tagName=="DIV")return;Web.HoverMonitor._instance.unhover()}function $selectItem(a,b){Web.HoverMonitor._instance.select(a,b)}function $toggleHover(){Web.HoverMonitor._instance.toggle()}function $preventToggleHover(){Web.HoverMonitor._preventToggleHover=true}function $refreshHoverMenu(a){Web.HoverMonitor._instance.refresh(a)}function $activateItem(b,c,a){Web.HoverMonitor._instance.activate(b,c,a)}function $deactivateItem(a,b){Web.HoverMonitor._instance.deactivate(a,b)}function $registerItems(d,e,c,b,a){if(c==null)c=Web.HoverStyle.Auto;if(b==null)b=Web.PopupPosition.Left;if(a==null)a=Web.ItemDescriptionStyle.Inline;$unregisterItems(d);Web.HoverMonitor.Families[d]={items:e,style:c,position:b,itemDescriptionStyle:a}}function $unregisterItems(c){var a=Web.HoverMonitor.Families[c];if(a&&a.items){for(var b=0;b<a.items.length;b++)a.items[b].dispose();Array.clear(a.items)}delete Web.HoverMonitor.Families[c]}Web.HoverMonitor.registerClass("Web.HoverMonitor",Sys.Component);if(!$.mobile)Web.HoverMonitor._instance=$create(Web.HoverMonitor,{id:"GlobalHoverMonitor"});Web.HoverMonitor.OpenFrameZIndex=101001;Web.HoverMonitor.HoverFrameZIndex=101002;Web.HoverMonitor.HoverMenuZIndex=101003;var __ie6=Sys.Browser.agent==Sys.Browser.InternetExplorer&&Sys.Browser.version<7;__ie6&&Sys.UI.DomElement.addCssClass(document.body,"IE6");typeof Sys!=="undefined"&&Sys.Application.notifyScriptLoaded()